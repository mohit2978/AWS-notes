# Lecture 38

S3 is global buckets are regional!!
 
 By default s3 buckets are private ,even public buckets objects are still private !!

> By default versioning is not enabled

> ACL (Access Control list)

When setting up Elastic Bean Stalk , you have created s3 bucket too , to store environment variable!!

To delete this bucket ,go inside bucket then permissions there you first need to delete the bucket policy then only you will be able to delete the bucket created 
by beanstallk, but first empty the bucket!!

![alt text](image.png)

let us create bucket , bucket name is universal so create something and put AccountId
at last so that bucket name can be unique!!

![alt text](image-1.png)

private bucket ACLs disabled!!ACLs disabled only IAM policy can be used to access bucket!!

public bucket ACLs enabled--> Objects in this bucket can be owned by other AWS accounts. Access to this bucket and its objects can be specified using ACLs.

we choose disabled for now!!Recommended one is always private bucket!!

then comes Block Public Access settings for this bucket!as private bucket so do not uncheck it!!
> Note:if uncheck it then it will be public bucket!!

for public bucket ACLs enabled!! Bucket versioning disabled for now!!

![alt text](image-2.png)

then encryption see the default one we have put!!

Encrypion decryption is managed by AWS!!

In Advanced settings

![alt text](image-3.png)

for now we disable it , then create bucket!!

If you enable it object will be locked in bucket!!

To create public bucket!! ACLs enabled!! Object Ownership needs to be decided recommended bucket ownner as object ownner ,uncheck Block public access and acknowledge it!!

in s3 you have 2 types of buckets

![alt text](image-4.png)

1. general purpos bucket
2. directory bucket(latest) (super fast ,low latency , single digit ms latency)(billable)

only diffenence between two is directory bucket has single digit ms latency ,it is just very fast!!

so now we created two bucket private and public
![alt text](image-5.png)

when opening a bucket you have following options:

![alt text](image-6.png)

In objects we upload all the objects!!

>Note:To upload object >160 Gb you need to upload via CLI and do multi part upload via CLI,rest api or SDKs

![alt text](image-7.png)

![alt text](image-8.png)

On upload only you see bucket URL and then you see permissiosions,as we have opened private bucket so permissions can only be given by IAM policies!!

on scroll down you see storage classes!!

S3 express Onezone is for directory buckets!!

![alt text](image-9.png)

default one is standard one!! 

if objects are not used frequently so put them to infrequently accessed, if not used at all put them to glacier!!

>Note:prefix means subfolder

>Note:In CLI you get URI of s3 by which you identify s3 bucket object!!

>Note:Object URL is used on browser to identify object!!

![alt text](image-10.png)

if object URl you open , you will not be open that using internet as private Object!!Although you can share by presigned URL!!

>Note:Presigned url works with every bucket whether public or private bukcet or even with private and public object!!

![alt text](image-11.png)

In private bucket you see make public using ACL greyed out as ACL is not in private bucket!!
 whereas in below public bucket you can see option

 ![alt text](image-12.png)

 If there is logs file then we have a  option called Query with SQl select where you can use SQL to query !!

 ![alt text](image-13.png)

 see if you open Object URL of object in public bucket it will still not open as even though bucket is public object is still private , you need to make it public by ACL!!Just actions> make public by ACL > Make public and then access!!

 After that you will be able to access